$(document).on('click', '[data-list-type="dropdown"]', function(e){
    var item = $(e.target).closest('.item');
    var menu = $('.menu', $(this));
    var items = $('.item', $(this));
    var selectedItem = $('.text', $(this));
    var dr = $(this).children('.dropdown');
    if(menu.is(':visible')){
      if(item.length > 0){
        items.removeClass('active');
        selectedItem.html(item.html());
        item.addClass('active');
      }
      dr.removeClass('active').removeClass('visible');
      menu.removeClass('visible').addClass('hidden');
    }else{
      dr.addClass('active').addClass('visible');
      menu.addClass('visible').removeClass('hidden');
    }
  });
  
  $(function () {
    $(document).tooltip({ selector: '[data-toggle=tooltip]' });
  })
  Sortable.create(sections, {
    animation: 100,
    group: 'sections',
    draggable: '.section-c-item',
    handle: '.section-c-item-header',
    sort: true,
    filter: '.sortable-disabled',
    chosenClass: 'active',
    onStart: function(evt){
      console.log('start');
      console.log(evt);
    },
    onEnd: function(evt){
      console.log('end');
      console.log(evt);
    }
  });
  Sortable.create(sectionOpen, {
    animation: 100,
    group: 'tasks',
    draggable: '.task-item',
    handle: '.task-item',
    sort: true,
    onStart: function(evt){
      console.log('start');
      console.log(evt);
    },
    onEnd: function(evt){
      console.log('end');
      console.log(evt);
    }
  });
  
  Sortable.create(sectionInProgress, {
    group: 'tasks',
    handle: '.task-item',
    onStart: function(evt){
      console.log('start');
      console.log(evt);
    },
    onEnd: function(evt){
      console.log('end');
      console.log(evt);
    }
  });
  
  $(document).on('click', '[data-task-action="add"]',function(){
    if($.trim($('[data-task-target]', $(this).closest('.l0-zi1')).html()) === ''){
      $('[data-task-target]', $(this).closest('.l0-zi1')).append($('<input data-task-new type="text">'));
      $('input[data-task-new]', $(this).closest('.l0-zi1')).focus();
    }
  });
  
  
  $(document).on('focusout', 'input[data-task-new]', function(e) {
    var data = $('input[data-task-new]').val();
    console.log(data);
    $(this).remove();
  });
  $(document).click(function(event) { 
    var $target = $(event.target);
    if(!$target.closest('#clickoutside').length && 
    $target.closest('#clickoutside').is(":visible")) {
      $target.closest('#clickoutside').hide();
    }
    if(($target.closest('.close').length > 0 || $target.closest('.dismiss').length > 0) && $target.closest('#modal').length > 0){
      $('#modal').modal('hide');
    }
  });
  
  $(document).on('click', '.imenu>.dropdown', function(e){
    $('.dropdown-menu', $(e.target).closest(".imenu")).show();
  });
  $(document).on({
      "click": function(e){
        if($('[data-list-type="dropdown"] .menu').is(':visible') ){
          var ut = $(e.target).closest('[data-list-type="dropdown"]');
          $('[data-list-type="dropdown"] .menu:visible').each(function(){
            var ref = $(this).closest('[data-list-type="dropdown"]');
            if(!ref.is(ut)){
              var dr = $(this).closest('.dropdown');
      dr.removeClass('active').removeClass('visible');
      $(this).removeClass('visible').addClass('hidden');
            }
          });
          
          console.log('selection visible');
        }
        if($('.popover-body').is(':visible')){
          $('.popover-body:visible').each(function(){
            if(!$(this).is($(e.target).closest('.popover-body'))){
              var refId = $(this).closest('div.popover').attr('id');
              var aria = $(e.target).closest('[aria-describedby]');
              if(refId !== aria.attr('aria-describedby')){
     $(this).closest('div.popover').popover('hide');
              }
            }
          });
        }
        if(!$(e.target).closest(".imenu").length){
          if($(".dropdown-menu:visible").hasClass('carousel')){
              $(".dropdown-menu:visible").carousel(0).carousel('pause');
          }
          $(".dropdown-menu").hide();
        }else{
          var ci = $(e.target).closest(".dropdown-item");
          if(ci.length>0){
            if(!ci.hasClass('imore') && !ci.hasClass('iback')){
              if($(".dropdown-menu:visible").hasClass('carousel')){
                  $(".dropdown-menu:visible").carousel(0).carousel('pause');
              }
              $(".dropdown-menu").hide();
            }
          }
        }
      }
    });
  $(document).on('click', '[data-project-action]', function(){
    var action = $(this).attr('data-project-action');
    switch(action){
      case 'properties':{ 
        if(!$('#modal .modal-dialog').hasClass('modal-lg')){
          $('#modal .modal-dialog').addClass('modal-lg');
        }
        $('#modal .modal-body').html(' <div class="row"><div class="col-md-1"><div class="project-avatar" style="background-image: url(https://www.meistertask.com/production/assets/a28d414b034083194f6b4c3a2fae878b.png);"></div></div><div class="col-md-10"><div class="project-modal-title" style="font-size: 21px;font-weight: 500;line-height: 25px;letter-spacing: normal;padding: 3px 10px;">My First Project</div><div class="project-modal-desc" style="padding: 0 10px;flex-grow: 1;flex-shrink: 1;border-radius: 5px;cursor: text;font-size: 15px;font-weight: 400;line-height: 22px;letter-spacing: normal;width: 100%;color: rgb(138, 148, 153);">description</div></div><div class="col-md-1 project-more"><i class="fal fa-ellipsis-h"></i></div></div><div class="row"><ul class="nav nav-tabs w-100 mb-3" id="myTab" role="tablist" style="padding: 0 25px;"><li class="nav-item" role="presentation"><a class="nav-link active show" data-bs-toggle="tab" data-toggle="tab" href="#members" role="tab" aria-controls="members" aria-selected="true">Members</a></li><li class="nav-item" role="presentation"><a class="nav-link" data-bs-toggle="tab" data-toggle="tab" href="#requests" role="tab" aria-controls="requests" aria-selected="false">Requests</a></li><li class="nav-item" role="presentation"><a class="nav-link" data-bs-toggle="tab" data-toggle="tab" href="#automations" role="tab" aria-controls="automations" aria-selected="false">Automations</a></li><li class="nav-item" role="presentation"><a class="nav-link" data-bs-toggle="tab" data-toggle="tab" href="#checklists" role="tab" aria-controls="checklists" aria-selected="false">Checklists</a></li><li class="nav-item" role="presentation"><a class="nav-link" data-bs-toggle="tab" data-toggle="tab" href="#tags" role="tab" aria-controls="tags" aria-selected="false">Tags</a></li><li class="nav-item" role="presentation"><a class="nav-link" data-bs-toggle="tab" data-toggle="tab" href="#customfields" role="tab" aria-controls="customfields" aria-selected="false">Custom Fields</a></li><div class="nav-tabs-indicator" style="left: 304.094px; right: 399.047px;"></div><div class="nav-tabs-indicator" style="left: 25px; right: 885.031px;"></div><div class="nav-tabs-indicator" style="left: 25px; right: 885.031px;"></div></ul><div class="tab-content"><div class="tab-pane fade active show" id="members" role="tabpanel" aria-labelledby="members-tab"><ul class="list-group-flush p-0" style="height: 300px;overflow-y: scroll;"><li class="list-group-item d-flex justify-content-between align-items-center"><div class="user-item w-100"><div class="col-md-1 p-0"><label data-toggle="tooltip" title="" class="switch" data-original-title="Toglge admin mode"><input type="checkbox" checked=""><span class="slider round"></span></label></div><div class="col-md-1 p-0"><div class="icon" style="background-image: url(https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c);"></div></div><div class="name col-md-4 p-0">Hoang Minh Tue</div><div class="email col-md-6 p-0">Hoang Minh Tue</div></div><span class="badge badge-primary badge-pill">14</span><a class="close" href="javascript: void(0);"><i class="fal fa-times"></i></a></li><li class="list-group-item d-flex justify-content-between align-items-center"><div class="user-item w-100"><div class="col-md-1 p-0"><label data-toggle="tooltip" title="" class="switch" data-original-title="Toglge admin mode"><input type="checkbox" checked=""><span class="slider round"></span></label></div><div class="col-md-1 p-0"><div class="icon" style="background-image: url(https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c);"></div></div><div class="name col-md-4 p-0">Hoang Minh Tue</div><div class="email col-md-6 p-0">Hoang Minh Tue</div></div><span class="badge badge-primary badge-pill">14</span><a class="close" href="javascript: void(0);"><i class="fal fa-times"></i></a></li><li class="list-group-item d-flex justify-content-between align-items-center"><div class="user-item w-100"><div class="col-md-1 p-0"><label data-toggle="tooltip" title="" class="switch" data-original-title="Toglge admin mode"><input type="checkbox" checked=""><span class="slider round"></span></label></div><div class="col-md-1 p-0"><div class="icon" style="background-image: url(https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c);"></div></div><div class="name col-md-4 p-0">Hoang Minh Tue</div><div class="email col-md-6 p-0">Hoang Minh Tue</div></div><span class="badge badge-primary badge-pill">14</span><a class="close" href="javascript: void(0);"><i class="fal fa-times"></i></a></li><li class="list-group-item d-flex justify-content-between align-items-center"><div class="user-item w-100"><div class="col-md-1 p-0"><label data-toggle="tooltip" title="" class="switch" data-original-title="Toglge admin mode"><input type="checkbox" checked=""><span class="slider round"></span></label></div><div class="col-md-1 p-0"><div class="icon" style="background-image: url(https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c);"></div></div><div class="name col-md-4 p-0">Hoang Minh Tue</div><div class="email col-md-6 p-0">Hoang Minh Tue</div></div><span class="badge badge-primary badge-pill">14</span><a class="close" href="javascript: void(0);"><i class="fal fa-times"></i></a></li><li class="list-group-item d-flex justify-content-between align-items-center"><div class="user-item w-100"><div class="col-md-1 p-0"><label data-toggle="tooltip" title="" class="switch" data-original-title="Toglge admin mode"><input type="checkbox" checked=""><span class="slider round"></span></label></div><div class="col-md-1 p-0"><div class="icon" style="background-image: url(https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c);"></div></div><div class="name col-md-4 p-0">Hoang Minh Tue</div><div class="email col-md-6 p-0">Hoang Minh Tue</div></div><span class="badge badge-primary badge-pill">14</span><a class="close" href="javascript: void(0);"><i class="fal fa-times"></i></a></li></ul><a href="javascript: void(0);"><i class="fal fa-plus"></i> Add Member </a></div><div class="tab-pane fade" id="requests" role="tabpanel" aria-labelledby="requests-tab"><ul class="list-group-flush p-0" style="height: 300px;overflow-y: scroll;"><li class="list-group-item d-flex pl-0 pr-0"><div class="user-item w-100"><div class="col-md-1 p-0"><div class="icon" style="background-image: url(https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c);"></div></div><div class="name col-md-5 p-0">Hoang Minh Tue</div><div class="email col-md-6 p-0">Hoang Minh Tue</div></div><div style="display: inherit; margin-top: -6px;"><a class="btn btn-primary mr-2" href="javascript: void(0);">Confirm</a><a class="btn btn-muted mr-1" href="javascript: void(0);">Delete</a></div></li></ul></div><div class="tab-pane fade" id="automations" role="tabpanel" aria-labelledby="automations-tab">automations</div><div class="tab-pane fade" id="checklists" role="tabpanel" aria-labelledby="checklists-tab"><div class="row ckl"><div class="col-md-4 border-right p-0"><div class="checklist-item">checklist name</div><div class="checklist-item active">checklist name</div><div class="checklist-item"><a href="javascript: void(0)"><i class="fal fa-plus"></i> Add Checklist</a></div></div><div class="col-md-8"><div class="kr-view ck-item"><i class="fal fa-circle"></i><div class="kr-text ck-title"><div>first test check list item</div></div><div class="kr-view ck-action"><i class="fal fa-times"></i></div></div><div class="kr-view ck-item"><a href="javascript: void(0);"><i class="fal fa-plus"></i> Add Checklist Item</a></div></div></div></div><div class="tab-pane fade" id="tags" role="tabpanel" aria-labelledby="tags-tab">tags</div><div class="tab-pane fade" id="customfields" role="tabpanel" aria-labelledby="customfields-tab">Custom Fields</div></div></div><div class="row"><div class="col-md-9"></div><div class="col-md-3"><a data-dismiss="modal" class="btn btn-primary float-right" href="javascript:void(0)">Done</a></div></div>');
      }
      break;
    }
    $('#modal').modal();
  });
  $(document).on('click', '[data-user-action]', function(){
    var action = $(this).attr('data-user-action');
    var showModal = false;
    switch(action){
      case 'create-task':{ 
        showModal = true;
        $('#modal .modal-dialog').removeClass('modal-lg');
        $('#modal .modal-body').html('<div class="row"><div class="task-modal-title">Add Task</div></div><div class="row"><div class="task-modal-input"><input placeholder="Task Title" type="text"></div></div><div class="row task-modal-input"><div class="col-md-6 pl-0 pr-1"><div data-list-type="dropdown" class="dropdown"><div class="ui fluid selection dropdown" tabindex="0"><i class="dropdown icon fal fa-chevron-down"></i><div class="text"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/jenny.jpg"> Jenny Hess</div><div class="menu transition hidden" tabindex="-1"><div class="item" data-value="jenny"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/jenny.jpg"> Jenny Hess </div><div class="item" data-value="elliot"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/elliot.jpg"> Elliot Fu </div><div class="item" data-value="stevie"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/stevie.jpg"> Stevie Feliciano </div><div class="item" data-value="christian"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/christian.jpg"> Christian </div><div class="item" data-value="matt"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/matt.jpg"> Matt </div><div class="item" data-value="justen"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/justen.jpg"> Justen Kitsune </div></div></div></div></div><div class="col-md-6 pl-1 pr-0"><div data-list-type="dropdown" class="dropdown"><div class="ui fluid selection dropdown" tabindex="0"><i class="dropdown icon fal fa-chevron-down"></i><div class="text"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/jenny.jpg"> Jenny Hess</div><div class="menu transition hidden" tabindex="-1"><div class="item" data-value="jenny"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/jenny.jpg"> Jenny Hess </div><div class="item" data-value="elliot"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/elliot.jpg"> Elliot Fu </div><div class="item" data-value="stevie"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/stevie.jpg"> Stevie Feliciano </div><div class="item" data-value="christian"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/christian.jpg"> Christian </div><div class="item" data-value="matt"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/matt.jpg"> Matt </div><div class="item" data-value="justen"><img class="ui mini avatar image" src="https://semantic-ui.com/images/avatar/small/justen.jpg"> Justen Kitsune </div></div></div></div></div></div><div class="row"><div class="col-md-9"></div><div class="col-md-3"><a class="btn btn-primary float-right create-task" href="javascript:void(0)">Create Task</a></div></div>');
      }
      break;
      case 'search':{
        showModal = true;
      }
      break;
      case "tasks":{
        $(this).popover({
          html: true,
          placement: 'bottom',
          content: function() {
            return '<h1>Hello</h1><i> Every one</i>';
          }
        });
      }
      break;
      case "section":{
        $(this).popover({
          html: true,
          placement: 'bottom',
          content: function() {
            return '<div class="section-properties"><div class="section-properties-basic"><ul class="nav nav-tabs w-100 mb-3" role="tablist" style="padding: 0 10px;"><li class="nav-item" role="presentation"><a class="nav-link active show" data-bs-toggle="tab" data-toggle="tab" href="#appearance" role="tab" aria-controls="members" aria-selected="true">Appearance</a></li><li class="nav-item" role="presentation"><a class="nav-link" data-bs-toggle="tab" data-toggle="tab" href="#automations" role="tab" aria-controls="automations" aria-selected="false">Automations</a></li><div class="nav-tabs-indicator"></div></ul><i class="fal fa-ellipsis-h" data-user-action="section-more" data-original-title="" title=""></i><div class="tab-content"><div class="tab-pane fade active show" id="appearance" role="tabpanel" aria-labelledby="appearance-tab"><div class="section-ls-icons"><div class="kr-view item-icon active"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#wave"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#email"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#question"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#issue"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#home"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#computer"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#photo"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#music"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#tv"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#choice"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#design"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#cloud"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#travel"></use></svg></div></div><div class="kr-view item-more"><i class="fal fa-arrow-right"></i></div></div><div class="kr-view section-ls-colors"><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(217, 54, 81);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(255, 159, 26);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(255, 213, 0);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(138, 204, 71);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(71, 204, 138);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(48, 191, 191);"></div></div><div class="kr-view item-color active"><div class="kr-view" style="background-color: rgb(0, 170, 255);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(143, 126, 230);"></div></div><div class="kr-view item-color"><div class="kr-view" style="background-color: rgb(152, 170, 179);"></div></div></div><hr><div class="section-desc"></div></div><div class="tab-pane fade" id="automations" role="tabpanel" aria-labelledby="automations-tab"> automations </div></div></div><div class="section-properties-advance"><div class="kr-view item-back"><i class="fa fa-chevron-left"> Icons</i></div><div class="section-item-info"><div class="kr-view"><div class="kr-view section-scope"><div class="kr-text"> Productivity &amp; Workflow</div><div class="kr-view"><div class="section-ls-icons"><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#completed"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#diagram"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#document"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#inbox"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#backlog"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#idea"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#design"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#write"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#discussion"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#calendar"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#clock"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#goal"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#review"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#danger"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#postponed"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#delayed"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#feedback"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#agenda"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#bug"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#gear"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#improvement"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#choice"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#next"></use></svg></div></div><div class="kr-view item-icon active"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#wave"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#decision"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#paused"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#in_progress"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#website"></use></svg></div></div></div></div></div><div class="kr-view section-scope"><div class="kr-text"> Technology</div><div class="kr-view"><div class="section-ls-icons"><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#video"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#desktop"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#floppy"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#folder"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#game"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#phone"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#tablet"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#wearable"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#computer"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#photo"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#tv"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#email"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ios"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#android"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#windows"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#cloud"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#call"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#application"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#atsign"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#wifi"></use></svg></div></div></div></div></div><div class="kr-view section-scope"><div class="kr-text"> Activities &amp; Nature</div><div class="kr-view"><div class="section-ls-icons"><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#bike"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#hike"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#car"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#travel"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#shopping"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#train"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#snowman"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#swim"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#run"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#weights"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#pumpkin"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#snowflake"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#bat"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#spider"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#development"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#cooking"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#read"></use></svg></div></div></div></div></div><div class="kr-view section-scope .last"><div class="kr-text"> Miscellaneous</div><div class="kr-view"><div class="section-ls-icons"><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#happy"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#sad"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#heart"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#thumbsup"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#issue"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#question"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#star"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#flag"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#book"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#gift"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#music"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#home"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#experiment"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#location"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#money"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#education"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#urgent"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ticket"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#office"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#milestone"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#annoucement"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#dollasign"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#listen"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#see"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ghost"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#skull"></use></svg></div></div><div class="kr-view item-icon"><div class="kr-view"><svg width="25" viewBox="0 0 25 25" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#business"></use></svg></div></div></div></div></div></div></div></div></div>';
          }
        });
      }
      break;
       case "section-more":{
        $(this).popover({
          html: true,
          placement: 'bottom',
          content: function() {
            return '<div class="pop-item active"><a class="dropdown-item fal fa-info-circle" href="javascript: void(0);" data-section-action="collapse">Collapse</a><a class="dropdown-item fal fa-image" href="#projectinfo" data-section-action="move">Move...</a><a class="dropdown-item fal fa-user-plus idivider" href="javascript: void(0);" data-section-action="del">Delete</a><a class="dropdown-item fal fa-archive" href="javascript: void(0);" data-section-action="complete">Complete Tasks</a><a class="dropdown-item fal fa-trash-alt idivider" href="javascript: void(0);" data-section-action="archive">Archive Completed Tasks</a><a class="dropdown-item fal fa-ellipsis-h" href="javascript: void(0);" data-section-action="print">Print...</a></div>';
          }
        });
      }
      break;
    }
    if(showModal){
      $('#modal').modal();
    }else{
      console.log('show dropdown: ' + action);
    }
    
  });
  
  $(document).on('click', '[data-ref-btn="filter-activities"]', function(){
    var ref = $(this).attr('data-ref-btn');
    if($(this).hasClass('active')){
      $(this).removeClass('active')
      $('[data-ref-form=' + ref + ']').css('transform','translateX(0px)');
    }else{
      $(this).addClass('active');
      $('[data-ref-form=' + ref + ']').css('transform','translateX(-320px)');
    }
  });
  $(document).on('click', '[data-task-action]', function(e){
    var type = $(this).attr('data-task-action');
    switch(type){
      case 'assigned':{
        $(this).popover({
          html: true,
          placement: 'bottom',
          content: function() {
            return '<div class="kr-view assigned-items"><div class="kr-view assigned-title"><div class="kr-text">Assign</div><a class="kr-text" href="javascript:void(0);">Manage</a></div><div class="kr-view assigned-detail"><div class="kr-view search-box"><div class="kr-text"><i class="fal fa-search"></i><input placeholder="Find Person" tabindex="0" class="kr-view" value=""></div></div><div class="assigned-users-box"><div class="assigned-ls-users"><div class="user-item" data-item-id="64184931"><div class="kr-view"><div class="kr-view user-item-icon"><div class="kr-view">MB</div></div><div class="kr-text user-item-name">mediabox</div><div class="kr-view user-item-check"><i class="fal fa-check"></i></div></div></div><div class="user-item" data-item-id="64184931"><div class="kr-view"><div class="kr-view user-item-icon"><div class="kr-view" style="background-image: url(&quot;https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c&quot;);"></div></div><div class="kr-text user-item-name">mediabox</div><div class="kr-view user-item-check"><i class="fal fa-check"></i></div></div></div><div class="user-item" data-item-id="64184931"><div class="kr-view"><div class="kr-view user-item-icon"><div class="kr-view" style="background-image: url(&quot;https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c&quot;);"></div></div><div class="kr-text user-item-name">mediabox</div><div class="kr-view user-item-check"><i class="fal fa-check"></i></div></div></div><div class="user-item" data-item-id="line1"><div class="break-line"></div></div><div class="user-item" data-item-id="64184931"><div class="kr-view"><div class="kr-view user-item-icon"><div class="kr-view" style="background-image: url(&quot;https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c&quot;);"></div></div><div class="kr-text user-item-name">mediabox</div><div class="kr-view user-item-check"></div></div></div><div class="user-item" data-item-id="64184931"><div class="kr-view"><div class="kr-view user-item-icon"><div class="kr-view">MB</div></div><div class="kr-text user-item-name">mediabox</div><div class="kr-view user-item-check"></div></div></div></div></div></div></div>';
          }
        });
      }
      break;
    }
  });
  $(document).on('click', '[data-item-id]', function(e){
    var refCheck = $(e.target).closest('[data-task-action="assigned"],.popover-body');
    if(refCheck.length === 0){
      $('#modal .modal-body').html('<div class="row" style="margin: -1rem;"><div class="kr-view task-detail"><div class="kr-view"><div class="kr-view task-header"><div class="kr-view l"><div class="kr-view"><a class="btn btn-outline-primary" href="javascript: void(0);">Complete</a></div><div style="flex-shrink: 1;"><div class="kr-view assigned"><div class="kr-view assigned-icon"><img src="https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c"></div><div class="kr-view assigned-to"><span class="kr-text">Assigned to</span><div class="kr-view assigned-users"><span>Minh Tuá»‡</span><span>MediaXox</span><i class="fal fa-chevron-down" style="padding-top: 12px;"></i></div></div></div></div></div><div class="kr-view"><div class="kr-view task-actions"><a class="btn btn-warning task-pinned"><i class="fa fa-thumbtack"></i>Focus</a><a href="javascript: void(0)"><i class="fal fa-ellipsis-h"></i></a><a href="javascript: void(0)" class="close"><i class="fal fa-times"></i></a></div></div></div></div><div class="kr-view"><div class="kr-view task-col-left"><div class="kr-view"><div class="kr-view l-title">test add other task</div><div class="kr-view l-desc">This task has no notes.</div></div><div class="kr-view"><div class="kr-view l-check"><div class="kr-view l-title"><div class="inline-editor">test check list</div><div class="kr-view"><i class="fal fa-chevron-down"></i></div></div><div class="kr-view l-item"><div class="kr-view"><div class="kr-view l-ico"><i class="fal fa-check-circle"></i></div><div class="kr-text l-t text-line-throught">First test check list item</div><div class="kr-view l-a"><div class="kr-view"><i class="fal fa-bars"></i></div><div class="kr-view"><i class="fal fa-times"></i></div><div class="kr-view"><i class="fal fa-chevron-down"></i></div></div></div></div><div class="kr-view l-item"><div class="kr-view"><div class="kr-view l-ico"><i class="fal fa-circle"></i></div><div class="kr-text l-t">second test check list item</div><div class="kr-view l-a"><div class="kr-view"><i class="fal fa-bars"></i></div><div class="kr-view"><i class="fal fa-times"></i></div><div class="kr-view"><i class="fal fa-chevron-down"></i></div></div></div></div><div class="kr-view l-add"><i class="fal fa-plus"></i><span>Add Checklist Item</span></div></div></div><div class="kr-view"><div class="kr-view task-attachment"><div class="kr-view t-title"><span>Attachments</span><i class="fal fa-chevron-down"></i></div><div class="kr-view t-files" style="flex-direction: column;width: 100%;"><div class="kr-view"><div class="kr-view t-item" data-toggle="tooltip" title="test filename.jpg" data-placement="bottom"><div class="kr-view t-img" style="background-image: url(&quot;https://www.meistertask.com/embed/at/25693329/thumb/b8f18992ebbdf7974cf23cbe320af38a9211b64a.png&quot;);"></div><div class="kr-view t-more"><i class="fal fa-chevron-circle-down"></i></div></div><div class="kr-view t-item"><div class="kr-view t-img" style="background-image: url(&quot;https://www.meistertask.com/embed/at/25693224/thumb/c7e7723b7119be578ba6e0007ed7cf07509b2405.png&quot;);"></div><div class="kr-view t-more"><i class="fal fa-chevron-circle-down"></i></div><div class="kr-view t-fav"><i class="far fa-star"></i></div></div><div class="kr-view t-item no-bgc"><div class="kr-view t-img"><i class="fal fa-file-archive"></i></div><div class="kr-view t-more"><i class="fal fa-chevron-circle-down"></i></div></div></div></div><div class="kr-view t-add"><i class="fal fa-plus"></i><span>Add Attachment</span></div></div></div><div class="kr-view"><div class="task-activity"><div class="kr-view t-title"><span>Activity</span><i class="fal fa-chevron-down"></i></div><div class="kr-view t-form"><div class="kr-view"><textarea placeholder="Add Comment" row="4"></textarea></div><div class="kr-view"><div class="kr-view t-smile"><i class="fal fa-smile"></i></div><div class="kr-view t-send"><i class="fa fa-arrow-circle-right"></i></div></div></div><div class="kr-view t-detail"><div class="kr-view t-item"><div class="fa fa-check-circle"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act" style="flex-direction: column; width: 100%; flex-grow: 1; flex-shrink: 1;"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>Minh</span> completed the task</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub"></div></div></div><div class="kr-view t-item"><div class="fa fa-tasks with-bg bgc-teal"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-text t-l2"><span>Minh</span> completed a checklist item</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub">second test check list item</div></div></div><div class="kr-view t-item"><div class="fal fa-calendar-alt with-bg bgc-warning"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act" style="flex-direction: column; width: 100%; flex-grow: 1; flex-shrink: 1;"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>Minh</span> set a due date</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub text-color-warning">January 13, 2021 12:00 PM</div></div></div><div class="kr-view t-item"><div class="fa fa-list-ul with-bg bgc-green"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act" style="flex-direction: column; width: 100%; flex-grow: 1; flex-shrink: 1;"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>Minh</span> added a checklist item</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub">first test check list item</div></div></div><div class="kr-view t-item"><div class="fa fa-paperclip with-bg bgc-cyan"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act" style="flex-direction: column; width: 100%; flex-grow: 1; flex-shrink: 1;"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>Minh</span> attached a file</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub"><div class="kr-view t-attach-files"><div class="kr-view t-attach-thumb"><img src="https://www.meistertask.com/embed/at/25693329/medium/9823614e872b31458edb3ac5536c61ee4bd179ec.png"></div><div class="kr-view t-attach-info"><i class="fal fa-image text-color-purple"></i><div class="kr-view" style="flex-grow: 1; flex-shrink: 1;"><div class="kr-view" style="flex-grow: 1; flex-shrink: 1;"><div class="kr-text" style="font-size: 15px; line-height: 22px; font-weight: 400; letter-spacing: normal; padding-left: 10px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">1</div></div><div class="kr-view" style="align-items: center;"><div class="kr-text" style="font-size: 13px; line-height: 18px; font-weight: 700; letter-spacing: normal; padding-left: 10px; color: rgb(138, 148, 153); white-space: nowrap; text-transform: uppercase;">jpg</div></div></div></div></div></div></div></div><div class="kr-view t-item"><div class="fa fa-arrow-circle-right"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>Minh</span> â†’ <span>Minh</span></div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub"></div></div></div><div class="kr-view t-item"><div class="kr-view" style="flex-direction: column; padding-right: 10px;"><div class="kr-view" style="width: 32px; height: 32px; border-radius: 100%; align-items: center; justify-content: center; box-shadow: rgb(0, 170, 255) 0px 0px 0px -1px inset;"><img src="https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c" style="width: 32px;height: 32px;border-radius: 100%;align-items: center;justify-content: center;box-shadow: rgb(0, 170, 255) 0px 0px 0px -1px inset;"></div></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>mediabox</span> moved the task to "Open"</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub"></div></div></div><div class="kr-view t-item"><div class="fa fa-plus-circle"></div><div class="kr-view t-info"><div class="kr-view"><div class="kr-view t-act"><div class="kr-text t-l1" title="January 18, 2021 3:45 PM">14 days ago</div><div class="kr-view t-l2"><span>mediabox</span> created the task</div></div><div class="kr-view t-react"><i class="fal fa-smile-plus"></i></div></div><div class="kr-view t-act-sub"></div></div></div></div></div></div></div><div class="kr-view task-col-right"><div class="kr-view"><div class="kr-view t-line"><div class="kr-view"><i class="fal fa-calendar-alt"></i><div class="kr-text t-title">Due Date</div></div><div class="kr-view"><i class="fal fa-chevron-down"></i></div></div></div><div class="kr-view"><div class="kr-view t-line"><div class="kr-view"><div class="kr-view" style="align-self: flex-start; width: 24px; height: 24px; color: rgb(138, 148, 153);"><svg width="100%" height="100%" viewBox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" d="M11 16a3 3 0 0 1 0 6H7a3 3 0 0 1 0-6h4zm0 2H7a1 1 0 0 0-.117 1.993L7 20h4a1 1 0 0 0 0-2zm10-9a3 3 0 0 1 0 6h-9a3 3 0 0 1 0-6h9zm-6-7a3 3 0 0 1 0 6H4a3 3 0 1 1 0-6h11zm0 2H4a1 1 0 0 0-.117 1.993L4 6h11a1 1 0 0 0 0-2z"></path></svg></div><div class="kr-text t-title">Not Scheduled</div></div></div><div class="kr-view t-d-line"><div class="kr-view" style="border-radius: 10px;"><div class="kr-view" style="display: inline-flex; justify-content: center; align-items: center; width: 100%; height: 20px; padding: 6px 8px; border-radius: 5px; cursor: pointer; white-space: nowrap; border-width: 0px; border-color: rgb(61, 71, 77); background-color: rgb(255, 170, 0);"><div class="kr-view" style="width: 100%; height: 20px; align-items: center; border-radius: 10px;"><div class="kr-view" style="color: rgb(255, 255, 255); width: 12px; height: 12px; margin-left: 0px; margin-right: 4px;"><svg width="100%" height="100%" viewBox="0 0 16 16"><defs><path id="a3495267784" d="M8.401.782l2.443 4.124 4.743 1.01c.43.091.544.425.248.75l-3.234 3.56.49 4.747c.044.431-.244.64-.65.465L8 13.513l-4.44 1.925c-.404.174-.695-.03-.65-.465l.488-4.748L.165 6.667c-.294-.323-.186-.659.248-.751l4.743-1.01L7.599.782c.221-.374.579-.378.802 0zM8 4.98L5.089 7.366a.778.778 0 0 0-.103 1.107.809.809 0 0 0 1.127.101L7.2 7.682v3.432c0 .435.358.787.8.787.442 0 .8-.352.8-.787l-.001-3.431 1.088.891a.809.809 0 0 0 1.126-.1.778.778 0 0 0-.102-1.108L8 4.98z"></path></defs><use fill="currentColor" fill-rule="evenodd" xlink:href="#a3495267784"></use></svg></div><div class="kr-text" style="flex-grow: 1; text-align: center; color: rgb(255, 255, 255); font-size: 11px; line-height: 17px; font-weight: 500; letter-spacing: normal; user-select: none; pointer-events: none; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin: 0px; text-transform: uppercase;">Upgrade</div></div></div></div></div></div><div class="kr-view"><div class="kr-view t-line"><div class="kr-view"><i class="fal fa-tags"></i><div class="kr-text t-title">Tags</div></div><div class="kr-view"><i class="fal fa-chevron-down"></i></div></div></div><div class="kr-view"><div class="kr-view t-line"><div class="kr-view"><i class="far fa-eye"></i><div class="kr-text t-title">Watching</div></div><div class="kr-view"><i class="fal fa-chevron-down"></i></div></div><div class="kr-view t-d-line"><div class="kr-view"><img src="https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c"><img src="https://lh3.googleusercontent.com/a-/AOh14GgEf5vbVDV08X610Do7MyAmKPfIJ3qU6qeOmLtXuw=s96-c"></div></div></div><div class="kr-view"><div class="kr-view" style="flex-direction: column; align-items: flex-start;"><div class="kr-view"><a class="kr-text" href="/app/project/6FpvHDuF/my-first-project">My first project</a></div><div class="kr-view"><a class="kr-text" href="/app/project/6FpvHDuF/my-first-project?section=21765772">Open</a></div></div><div class="kr-view mt-3"><div class="kr-view t-icon"><i class="fal fa-plus-circle"></i></div><div class="kr-view t-content"><div class="kr-text">Created</div><div class="kr-text">January 12, 2021<br>4:21 PM</div></div></div><div class="kr-view mt-3"><div class="kr-view t-icon"><i class="fal fa-pen"></i></div><div class="kr-view t-content"><div class="kr-text">Updated</div><div class="kr-text">January 18, 2021<br>3:45 PM</div></div></div><div class="kr-view mt-3"><div class="kr-view"><a class="kr-view" href="javascript: void(0);"><div class="kr-view t-icon"><i class="fal fa-link"></i></div><div class="kr-view t-content"><div class="kr-text">Task ID</div><div class="kr-text">1HWP3r2b</div></div></a></div></div></div></div></div></div></div>');
      if(!$('#modal .modal-dialog').hasClass('modal-lg')){
        $('#modal>.modal-dialog').addClass('modal-lg');
      }
      $('#modal').modal();
    }
  });$('#modal').on('hidden.bs.modal', function (e) {
    $('#modal .modal-body').html('');
  })
  
  $(document).on('click', '[data-assigned-id]', function(){
    var id= $(this).attr('data-assigned-id');
    if(id === 'invite'){
      var html = '<div class="row mb-5"><div class="col-md-2 pr-0 "><div class="project-avatar float-right" style="background-image: url(https://www.meistertask.com/production/assets/a28d414b034083194f6b4c3a2fae878b.png);"></div></div><div class="col-md-10"><div class="project-modal-title" style="font-size: 21px;font-weight: 500;line-height: 25px;letter-spacing: normal;padding: 3px 10px;">My First Project</div><div class="project-modal-desc" style="padding: 0 10px;flex-grow: 1;flex-shrink: 1;border-radius: 5px;cursor: text;font-size: 15px;font-weight: 400;line-height: 22px;letter-spacing: normal;width: 100%;color: rgb(138, 148, 153);">description</div></div></div><div class="row"><div class="col-md-12" style="color: grey;font-size: 15px;line-height: 32px;font-weight: 500;letter-spacing: normal;">Share the project with others</div><div class="task-modal-input mt-0"><input placeholder="Enter email address or username" type="text"></div></div><div class="row mt-3"><div class="col-md-12" style="color: grey;font-size: 15px;line-height: 32px;font-weight: 500;letter-spacing: normal;">Include a personal message with your invitation</div><div class="task-modal-input mt-0 mb-4"><textarea placeholder="This is optional" rows="7"></textarea></div></div><div class="row"><div class="col-md-12"><a class="btn btn-primary float-right" href="javascript:void(0)">Invite</a><a data-dismiss="modal" class="btn btn-outline-secondary float-right mr-3" href="javascript:void(0)">Cancel</a></div></div>';
      if($('#modal .modal-dialog').hasClass('modal-lg')){
        $('#modal>.modal-dialog').removeClass('modal-lg');
      }
      $('#modal .modal-body').html(html);
      $('#modal').modal();
    }else{
      if($(this).hasClass('active')){
        console.log('clear filter');
        $(this).removeClass('active');
      }else{
        console.log('clear other filter');
        console.log('apply filter: ' + id);
        $(this).addClass('active');
      }
    }
  });
  $(document).on('click', '.section-properties .item-more', function(e){
    e.preventDefault();
    $('.section-properties').addClass('advance');
  });
  $(document).on('click', '.section-properties .item-back', function(e){
    e.preventDefault();
    $('.section-properties').removeClass('advance');
  });